<!doctype html>
<html lang="id">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Presensi Tentor - ILHAMI Pro</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="/css/tailwind.css" />

    <style>
      :root {
        --primary: #8b5cf6; /* Violet-500 */
        --bg-app: #F8FAFC;
      }
      body { font-family: 'Plus Jakarta Sans', sans-serif; background-color: var(--bg-app); color: #334155; }
      
      /* Glass & Cards */
      .glass-panel {
        background: #ffffff;
        border: 1px solid #E2E8F0;
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05), 0 2px 4px -1px rgba(0, 0, 0, 0.03);
        border-radius: 1rem;
      }

      /* Custom Inputs */
      .custom-input {
        background-color: #fff;
        border: 1px solid #E2E8F0;
        border-radius: 0.75rem;
        padding: 0.625rem 1rem;
        font-size: 0.875rem;
        transition: all 0.2s;
        width: 100%;
      }
      .custom-input:focus {
        border-color: var(--primary);
        outline: none;
        box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.1);
      }

      /* Grid Card Styling */
      .educator-card {
        transition: all 0.2s ease;
      }
      .educator-card:hover {
        transform: translateY(-2px);
        box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.05);
      }

      .modern-table { width: 100%; border-collapse: collapse; }
      .modern-table thead th {
        background-color: #f8fafc;
        color: #64748b;
        font-size: 0.75rem;
        text-transform: uppercase;
        letter-spacing: 0.08em;
        padding: 1rem 1.25rem;
        font-weight: 700;
        text-align: left;
        border-bottom: 1px solid #e2e8f0;
      }
      .modern-table tbody tr {
        transition: all 0.2s ease;
        border-bottom: 1px solid #f1f5f9;
      }
      .modern-table tbody tr:hover { background-color: #f8fafc; }
      .modern-table td { padding: 1rem 1.25rem; vertical-align: middle; }
    </style>
  </head>

  <body class="app h-screen flex flex-col overflow-hidden" data-page="presensi">
    <main class="content flex-1 overflow-y-auto p-4 md:p-8">
      
      <header class="flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-6">
        <div class="flex items-center gap-4">
          <button class="p-2 rounded-lg hover:bg-white shadow-sm md:hidden text-gray-600 transition" id="sidebarToggle">
            <i class="fa-solid fa-bars"></i>
          </button>
          <div>
            <h1 class="text-3xl font-bold text-gray-800 tracking-tight flex items-center gap-3">
              <span class="bg-gradient-to-br from-violet-500 to-indigo-600 text-white p-2.5 rounded-xl text-xl shadow-lg shadow-violet-200">
                <i class="fa-solid fa-clipboard-user"></i>
              </span>
              Presensi Tentor
            </h1>
            <p class="text-gray-500 mt-1 text-sm font-medium ml-1">Pantau kehadiran dan aktivitas mengajar edukator.</p>
          </div>
        </div>

        <div class="flex flex-col sm:flex-row flex-wrap gap-3 w-full md:w-auto items-stretch md:items-center">
            <div class="flex items-center gap-2 px-3 py-2.5 bg-white rounded-xl border border-gray-200 shadow-sm">
                <i class="fa-regular fa-calendar text-gray-400"></i>
                <input id="presensiMonth" type="month" class="bg-transparent border-none text-sm font-semibold text-gray-700 outline-none focus:ring-0 p-0" />
            </div>

            <div class="flex items-center gap-2 bg-white rounded-xl border border-gray-200 shadow-sm px-3 py-2.5">
                <div class="flex flex-col gap-1">
                    <label class="text-[10px] text-gray-400 font-semibold uppercase tracking-wide">Dari</label>
                    <input id="presensiStart" type="date" class="custom-input !p-0 !border-0 !shadow-none !text-sm" />
                </div>
                <div class="h-10 w-px bg-gray-200"></div>
                <div class="flex flex-col gap-1">
                    <label class="text-[10px] text-gray-400 font-semibold uppercase tracking-wide">Sampai</label>
                    <input id="presensiEnd" type="date" class="custom-input !p-0 !border-0 !shadow-none !text-sm" />
                </div>
            </div>

            <div class="relative w-full sm:w-64 md:w-72">
                <i class="fa-solid fa-magnifying-glass absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 text-xs"></i>
                <input id="presensiSearch" type="search" class="bg-white border border-gray-200 rounded-xl pl-8 pr-3 py-2.5 text-sm transition-all w-full shadow-sm focus:outline-none focus:ring-2 focus:ring-violet-200" placeholder="Cari nama tentor..." />
            </div>
        </div>
      </header>

      <section class="grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6">
        <div class="glass-panel p-4">
          <div class="flex items-center justify-between">
            <div>
              <div class="text-xs font-semibold text-gray-400 uppercase">Jumlah Edukator</div>
              <div class="text-2xl font-extrabold text-violet-600 mt-1" id="countEdukator">0</div>
            </div>
            <div class="w-10 h-10 rounded-xl bg-violet-50 text-violet-600 flex items-center justify-center border border-violet-100">
              <i class="fa-solid fa-user-group"></i>
            </div>
          </div>
          <div class="text-[11px] text-gray-400 mt-2">Total edukator sesuai filter.</div>
        </div>
        <div class="glass-panel p-4">
          <div class="flex items-center justify-between">
            <div>
              <div class="text-xs font-semibold text-gray-400 uppercase">Total Kehadiran</div>
              <div class="text-2xl font-extrabold text-emerald-600 mt-1" id="totalKehadiran">0</div>
            </div>
            <div class="w-10 h-10 rounded-xl bg-emerald-50 text-emerald-600 flex items-center justify-center border border-emerald-100">
              <i class="fa-solid fa-clipboard-check"></i>
            </div>
          </div>
          <div class="text-[11px] text-gray-400 mt-2">Akumulasi sesi hadir.</div>
        </div>
      </section>

      <section>
        <div class="glass-panel overflow-hidden">
          <div class="p-5 border-b border-gray-100 bg-white/60 flex items-center justify-between">
            <h3 class="font-bold text-gray-800 flex items-center gap-2">
              <i class="fa-solid fa-list-check text-violet-500"></i> Daftar Presensi Edukator
            </h3>
            <span class="text-xs text-gray-400">Klik detail untuk melihat riwayat</span>
          </div>
          <div class="overflow-x-auto">
            <table class="modern-table">
              <thead>
                <tr>
                  <th>Edukator</th>
                  <th>Total Kehadiran</th>
                  <th class="text-right">Aksi</th>
                </tr>
              </thead>
              <tbody id="presensiList"></tbody>
            </table>
          </div>
        </div>

        <div id="presensiEmpty" class="hidden flex flex-col items-center justify-center py-24 text-center">
            <div class="bg-violet-50 p-6 rounded-full mb-4 animate-bounce-slow">
                <i class="fa-solid fa-user-clock text-4xl text-violet-300"></i>
            </div>
            <h4 class="text-gray-700 font-bold text-lg">Belum ada data presensi</h4>
            <p class="text-gray-400 text-sm mt-1">Coba ubah filter bulan atau pencarian Anda.</p>
        </div>

      </section>
    </main>

    <div id="presensiDetailModal" class="fixed inset-0 z-50 hidden flex items-center justify-center bg-gray-900/60 backdrop-blur-sm transition-opacity opacity-0 pointer-events-none">
        <div class="bg-white w-full max-w-2xl rounded-2xl shadow-2xl transform scale-95 transition-transform duration-200 modal-card flex flex-col max-h-[85vh]">
            
            <div class="px-6 py-5 border-b border-gray-100 flex justify-between items-center bg-violet-50/50">
                <div class="flex items-center gap-4">
                    <div class="w-12 h-12 rounded-full bg-violet-100 text-violet-600 flex items-center justify-center font-bold text-lg border-2 border-white shadow-sm" id="detailAvatar">
                        -
                    </div>
                    <div>
                        <h3 class="text-lg font-bold text-gray-800" id="detailNama">Nama Tentor</h3>
                        <p class="text-xs text-gray-500" id="detailBulan">Detail Kehadiran</p>
                    </div>
                </div>
                <button id="closePresensiDetail" class="w-8 h-8 rounded-full flex items-center justify-center text-gray-400 hover:text-red-500 hover:bg-red-50 transition">
                    <i class="fa-solid fa-xmark text-lg"></i>
                </button>
            </div>

            <div class="flex-1 overflow-y-auto p-0 bg-gray-50">
                <div id="presensiDetailRows" class="space-y-px">
                    </div>
                
                <div id="presensiDetailEmpty" class="hidden py-12 text-center">
                    <p class="text-gray-400 text-sm">Tidak ada riwayat mengajar bulan ini.</p>
                </div>
            </div>

            <div class="p-4 border-t border-gray-100 bg-white flex justify-end">
                <button id="closePresensiDetailFooter" class="px-5 py-2 rounded-xl bg-gray-100 text-gray-600 hover:bg-gray-200 font-semibold text-sm transition">
                    Tutup
                </button>
            </div>
        </div>
    </div>

    <script src="/js/sidebar.js"></script>
    <script src="/js/presensi.js"></script>
  </body>
</html>
